<!DOCTYPE html>
<html lang="zh-Hans">

<head>
  <meta charset="utf-8">
  <title>保养详情</title>
  <style>
  p {
    margin: 0;
  }
  
  td {
    padding: 9px 15px;
    min-height: 20px;
    line-height: 20px;
    border: 1px solid #e2e2e2;
    font-size: 14px;
  }
  
  .detail {
    border-collapse: collapse;
    margin: 0 auto;
  }
  
  .detail td:nth-child(odd) {
    font-weight: 600;
  }
  
  .total tr:not(:first-child)>td {
    font-weight: normal;
  }
  
  .detail td {
    border: 1px solid #E4EAEC;
  }
  
  .total {
    width: 100%;
  }
  
  .total td {
    border: 0;
    border-right: 1px solid #E4EAEC;
  }
  
  .total td:nth-child(even) {
    border-right: 0;
  }
  
  .total-title>td {
    border-bottom: 1px solid #E4EAEC;
    font-weight: 600;
  }
  </style>
  <link rel="stylesheet" href="loading.css">
</head>

<body>
  <div id="page">
    <table class="detail" v-if="loading">
      <tr>
        <td>订单号码：</td>
        <td>{{orderData.orderId}}</td>
        <td>订单状态：</td>
        <td>{{orderData.orderStatus}}</td>
      </tr>
      <tr>
        <td>下单时间：</td>
        <td>{{orderData.buyTime}}</td>
        <td>预约时间：</td>
        <td>{{orderData.orderTime}}</td>
      </tr>
      <tr>
        <td>保养方案：</td>
        <td>{{orderData.type}}</td>
        <td>用户评价：</td>
        <td>{{orderData.comment}} <a href="#">查看详情</a></td>
      </tr>
      <tr>
        <td>保养进度：</td>
        <td colspan="3">
          <p>{{orderData.stage.content}}</p>
          <p>{{orderData.stage.time}}</p>
        </td>
      </tr>
      <tr>
        <td>保养车辆：</td>
        <td colspan="3">
          <p>{{orderData.car.num}}</p>
          <p>{{orderData.car.content}}</p>
        </td>
      </tr>
      <tr>
        <td>订单项目：</td>
        <td colspan="3">
          <table class="total">
            <tr class="total-title">
              <td>名称</td>
              <td>价格(￥)</td>
            </tr>
            <template v-for="item in orderData.orderDetail">
              <tr>
                <td>{{item.name}}</td>
                <td>{{item.money}}</td>
              </tr>
            </template>
          </table>
        </td>
      </tr>
    </table>
    <div class="spinner" v-show="false">
      <div class="rect1"></div>
      <div class="rect2"></div>
      <div class="rect3"></div>
      <div class="rect4"></div>
      <div class="rect5"></div>
    </div>
  </div>
  <script src="/car-business/static/plugins/vue/vue.js"></script>
  <script>  
  var vm = new Vue({
    el: '#page',
    data: {
      msg: '',
      code: -1,
      orderData: null,
      loading: false,
    },
    mounted: function() {
      var _this = this;      
      fetch('./data/maintainDetail.json').then(function(res) {
        return res.json();
      }).then(function(jsonData) {
        if (jsonData.code == 200) {
          _this.msg = jsonData.msg;
          _this.orderData = jsonData.data;
        } else {
          alert('请求数据有误');
        }        
        _this.loading = true;
      }).catch(function(err) {
        alert(err);
        _this.loading = true;
      });
    }
  })
  </script>
</body>

</html>
