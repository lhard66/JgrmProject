<!DOCTYPE html>
<html lang="zh-Hans">

<head>
  <meta charset="utf-8">
  <title>保养信息修改</title>
  <link rel="stylesheet" href="/car-business/static/plugins/hp/js/plugins/layui/css/layui.css">
  <link href="/car-business/static/plugins/hp/css/bootstrap.min.css?v=3.3.5" rel="stylesheet">
</head>
<style>
.main-content {
  width: 800px;
  margin: 10px 20px;
}

.btn-add {
  display: inline-block;
  width: 100%;
  height: 100%;
  cursor: pointer;
}
.car-oil{
  display: none;
}
</style>

<body>
  <div id="app" class="content">
    <div class="main-content" v-if="workData!=null">
      <form>
        <div class="form-group">
          <label for="exampleInputPassword1">套餐编号：</label>
          <input type="text" class="form-control" placeholder="Text input">
        </div>
        <div class="form-group">
          <label for="exampleInputEmail1">套餐类型：</label>
          <select class="form-control">
            <option>1</option>
            <option>2</option>
          </select>
        </div>
        <div class="form-group">
          <label for="exampleInputPassword1">适用车系：</label>
          <input type="text" class="form-control" placeholder="Text input">
        </div>
        <div class="form-group">
          <label for="exampleInputPassword1">推荐机油：</label>
          <table class="table table-bordered">
            <thead>
              <tr>
                <th>机油品牌</th>
                <th>机油型号</th>
                <th>配图</th>
                <th>包装规格</th>
                <th>价格</th>
                <th>操作</th>
              </tr>
            </thead>
            <tbody>
              <tr v-for="item in workData.rows">
                <td>{{item.brand}}</td>
                <td>{{item.type}}</td>
                <td>图片</td>
                <td>{{item.size}}</td>
                <td>{{item.price}}</td>
                <td>编缉</td>
              </tr>
              <tr>
                <td colspan="6">
                  <a class="btn-add" href="#" @click="addItem">+ 添加项...</a>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <button type="submit" class="btn btn-default">提交</button>
      </form>
    </div>
    <div id="car_oil" class="car-oil">
      <form class="form-horizontal">
        <div class="form-group">
          <label for="inputEmail3" class="col-sm-3 control-label">机油品牌:</label>
          <div class="col-sm-9">
            <select class="form-control">
              <option>1</option>
              <option>2</option>
            </select>
          </div>
        </div>
        <div class="form-group">
          <label for="inputEmail3" class="col-sm-3 control-label">机油型号:</label>
          <div class="col-sm-9">
            <select class="form-control">
              <option>1</option>
              <option>2</option>
            </select>
          </div>
        </div>
        <div class="form-group">
          <label for="inputEmail3" class="col-sm-3 control-label">包装规格:</label>
          <div class="col-sm-9">
            <select class="form-control">
              <option>1</option>
              <option>2</option>
            </select>
          </div>
        </div>
        <div class="form-group">
          <label for="inputEmail3" class="col-sm-3 control-label">配件定价:</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" placeholder="请输入价格">
          </div>
        </div>
        <div class="form-group">
          <div class="col-sm-offset-3 col-sm-9">
            <button type="submit" class="btn btn-default">提交</button>
          <button type="submit" class="btn btn-default">取消</button>
          </div>          
        </div>
      </form>
    </div>
  </div>
  <script src="/car-business/static/plugins/vue/vue.js"></script>
  <script src="/car-business/static/plugins/hp/js/jquery.min.js?v=2.1.4"></script>
  <script src="/car-business/static/plugins/hp/js/plugins/layer/layer.js"></script>
  <script>
  new Vue({
    el: '#app',
    data: {
      workData: null,
    },
    mounted: function() {
      var _this = this;
      //拿到列表数据
      fetch('./data/workData.json').then(function(res) {
        return res.json();
      }).then(function(dataJson) {
        _this.workData = dataJson.data;
      }).catch(function(err) {
        alert(err);
      })
    },
    methods: {
      addItem: function() {
        layer.open({
          type: 1,
          title: '添加推荐机油',
          area: ['500px', '400px'], //宽高
          content: $('#car_oil')
        });
      }
    }
  })
  </script>
</body>

</html>
